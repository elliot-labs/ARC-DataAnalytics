<!DOCTYPE html>
<html class="mdc-typography" lang="en">
    <head>
        <!-- Document properties -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <!-- Title and description -->
        <title>ARC Data Analytics</title>
        <meta name="description" content="The Note Maker redesigned for a modern computing environment.">
        <!-- Search keywords -->
        <meta name="keywords" content="HTML, CSS, JavaScript, Material Design, Modern, Note, Maker, Note Maker, Ticket, Ticket Maker">
        <!-- Credits -->
        <meta name="author" content="Elliot Huffman, ehuffman@elliot-labs.com">
        <!-- Google Chrome for Android settings -->
        <meta name="theme-color" content="#e53935">
        <meta name="mobile-web-app-capable" content="yes">
        <!-- Safari for IOS settings -->
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <!-- Load the CSS framework and Icons -->
        <link rel="stylesheet" href="css/material-icons.css">
        <link rel="stylesheet" href="css/material-components-web-0.23.0.min.css">
        <!-- Custom CSS styles -->
        <style>

            /* Define the default theme colors */
            :root {
                --mdc-theme-primary: #e53935;
                --mdc-theme-secondary: #00c853;
            }

            /* Set the background properties of the NoteMaker */
            .notemaker-body {
                padding: 0;
                margin: 0;
                line-height: 18.4px;
                box-sizing: border-box;
                margin-left: 16px;
                background-color: rgba(0, 0, 0, .02);
            }

            /* Ensures that the menu button background is transparent */
            .menu-button {
                background-color: rgba(0, 0, 0, 0);
            }

            /* set up the NoteMaker background canvas and canvas properties */
            .notemaker-main {
                padding-left: 16px;
                margin-left: 16px;
                overflow: auto;
                display: block;
            }

            /* Make the floating action button float on the bottom right corner */
            .app-fab--absolute.app-fab--absolute {
                position: fixed;
                bottom: 1rem;
                right: 1rem;
                z-index: 2;
            }

            /* Make the reset note maker button float above the new window button. */
            .mdc-fab--mini {
                position: fixed;
                bottom: 5.5rem;
                right: 1.5rem;
                z-index: 2;
            }

            /* Add padding to the right of text fields */
            .mdc-textfield {
                margin-right: 12px;
            }

            /* Ensure that the text field label background is transparent. */
            .mdc-textfield--textarea .mdc-textfield__label {
                background-color: transparent;
            }

            /* Remove the clear field "x" button from the input fields. MS IE adds this html to input fields. */
            .mdc-textfield__input::-ms-clear {
                display: none;
            }

            /* Add padding to the Cards and make sure that they do not get too big and hog the screen. Make the background white. */
            .mdc-card {
                margin-top: 1em;
                margin-bottom: .5em;
                margin-right: 1em;
                background: #fff;
                overflow-x: auto;
                max-width: 200px;
            }

            /* Make the cards and FABs responsive. */
            @media(min-width: 1024px) {
                .mdc-card {
                    max-width: 400px;
                }
                .app-fab--absolute.app-fab--absolute {
                    bottom: 1.5rem;
                    right: 1.5rem;
                }
                .mdc-fab--mini {
                    bottom: 6rem;
                    right: 2rem;
                }
            }
        </style>
    </head>

    <body class="mdc-typography notemaker-body" onload="initInterface()">

        <!-- Toolbar -->
        <div class="mdc-toolbar mdc-toolbar--waterfall mdc-toolbar--fixed">
            <div class="mdc-toolbar__row">
                <section class="mdc-toolbar__section mdc-toolbar__section--align-start">
                    <button class="menu-button material-icons mdc-toolbar__menu-icon" onclick="openNavDrawer()">menu</button>
                    <span class="mdc-toolbar__title catalog-title" id="toolbarText">ARC Data Analytics</span>
                </section>
            </div>
        </div>

        <!-- Navigation Drawer -->
        <aside class="mdc-temporary-drawer mdc-typography">
            <nav class="mdc-temporary-drawer__drawer">
                <header class="mdc-temporary-drawer__header">
                    <div class="mdc-temporary-drawer__header-content mdc-theme--primary-bg mdc-theme--text-primary-on-primary">
                        Created by:<br>Elliot Huffman<br>ehuffman@elliot-labs.com<br>Version: Alpha 1
                    </div>
                </header>
                <nav class="mdc-temporary-drawer__content mdc-list-group">
                    <div class="mdc-list">
                        <a class="mdc-list-item mdc-temporary-drawer--selected" style="cursor: pointer">
                            <i class="material-icons mdc-list-item__start-detail" aria-hidden="true">person</i>Log In
                        </a>
                        <a class="mdc-list-item" onclick="exportCSV()" style="cursor: pointer">
                            <i class="material-icons mdc-list-item__start-detail" aria-hidden="true">file_download</i>Export (as CSV)
                        </a>
                        <a class="mdc-list-item" target="_blank" href="https://elliot-labs.com">
                            <i class="material-icons mdc-list-item__start-detail" aria-hidden="true">apps</i>Other Apps
                        </a>
                    </div>

                    <hr class="mdc-list-divider">

                    <div id="nav-main" class="mdc-list">
                    </div>
                </nav>
            </nav>
        </aside>

        <!-- Message Box -->
        <aside id="MessageBox" class="mdc-dialog" role="alertdialog" aria-labelledby="MessageBox-label"
            aria-describedby="MessageBox-description">
            <div class="mdc-dialog__surface">
                <header class="mdc-dialog__header">
                    <h2 id="MessageBox-title" class="mdc-dialog__header__title">
                        Title Here
                    </h2>
                </header>
                <section id="MessageBox-description" class="mdc-dialog__body">
                    Long form text here...
                </section>
                <footer class="mdc-dialog__footer">
                    <button type="button" id="MessageBox-CancelButton" class="mdc-button mdc-dialog__footer__button mdc-dialog__footer__button--cancel">Cancel</button>
                    <button type="button" id="MessageBox-OKButton" class="mdc-button mdc-dialog__footer__button mdc-dialog__footer__button--accept">OK</button>
                </footer>
            </div>
            <div class="mdc-dialog__backdrop"></div>
        </aside>

        <!-- Main content -->
        <main id="main" class="notemaker-main mdc-toolbar-fixed-adjust" data-mdc-auto-init="MDCRipple">

            <!-- Javascript not available text -->
            <div class="mdc-typography--headline" id="Javascript-Notice" style="text-align:center">Javascript is required for the operation of this tool. Please enable it.</div>

            <!-- Floating Action Buttons (FAB) -->
            <button class="fab-new mdc-fab app-fab--absolute material-icons" aria-label="New Note Maker" onclick="newNoteMakerInstance()"
                data-mdc-auto-init="MDCRipple">
                <span class="mdc-fab__icon">
                    check
                </span>
            </button>
            <button class="mdc-fab mdc-fab--mini material-icons" aria-label="Reset Note Maker" data-mdc-auto-init="MDCRipple" onclick="resetNoteMakerPrompt()">
                <span class="mdc-fab__icon">
                    restore_page
                </span>
            </button>

            <!-- Form Selection Buttons -->
            <section id="Troubleshooting-Selector"></section>

            <!-- Input Section -->
            <form id="Troubleshooting-Input" action="#"></form>

            <!-- Spacing in between the input and the output sections -->
            <br>
        </main>

        <!-- Scripts -->
        <script src="js/material-components-web-0.23.0.min.js"></script>
        <script src="js/LogonUI.js"></script>
        <script src="js/AdminUI.js"></script>
        <script src="js/DataUI.js"></script>
        <script>
            // Init the fields and MDC system
            mdc.autoInit();

            // Remove Javascript warning (javascript is running so logically, you do nto need it any more.)
            document.getElementById("Javascript-Notice").outerHTML = "";
            
            // Ask if the user is sure before navigating away from the page
            // after the user has entered data into any of the fields.
            window.onbeforeunload = function() {
                // Create an array of text field input elements and create a local variable for accounting.
                var formFields =  document.getElementsByClassName("mdc-textfield__input");
                var dataPresent = false;
                // Loop through all of the elements in the array and if there is any data in them, set the variable to true.
                for (var index = 0; index < formFields.length; index++) {
                    if (formFields[index].value !== "") {
                        dataPresent = true;
                    }
                }
                if (dataPresent) {
                    if (browserPromptReset) {
                        return "You have made notes in the Note Maker, are you sure you want to leave?";
                    }                    
                }
            };

            // A function that loops, used for the waterfall animation on the toolbar.
            (function () {
                var pollId = 0;
                pollId = setInterval(function () {
                    var pos = getComputedStyle(document.querySelector('.mdc-toolbar')).position;
                    if (pos === 'fixed' || pos === 'relative') {
                        init();
                        clearInterval(pollId);
                    }
                }, 250);
                function init() {
                    var toolbar = mdc.toolbar.MDCToolbar.attachTo(document.querySelector('.mdc-toolbar'));
                    toolbar.fixedAdjustElement = document.querySelector('.mdc-toolbar-fixed-adjust');
                }
            })();

            // Create a HTTP POST request to send to a server.
            function HTTPPost() {
                this.url = "https://www.example.com";
                this.Content = "post body here";
                this.ContentType = "application/json";
                this.RequestInstance = new XMLHttpRequest();

                // Send the request to the server.
                this.Send = function() {
                    // Create the framework for the request
                    this.RequestInstance.open("POST", this.url, true);
                    this.RequestInstance.setRequestHeader("Content-Type", this.ContentType);
                    // Sends the HTTP request.
                    this.RequestInstance.send(this.Content);
                }

                // Returns the current status of the request as an array.
                // The first part of the request is the current request state of the instantiated class.
                // The second part of the request is the current response from the server.
                this.GetStatus = function() {
                    return [this.RequestInstance.readyState, this.RequestInstance.status];
                }

                // Returns the response text from the request. It may be a good idea to check if the ready state is in 4 (indicates request has finished).
                this.GetResponseText = function() {
                    return this.RequestInstance.responseText;
                }
            }

            // Create a HTTP GET command.
            function HTTPGet() {
                this.url = "https://example.com";
                this.RequestInstance = new XMLHttpRequest();

                // Send the request to the server
                this.Send = function() {
                    this.RequestInstance.open("GET", this.url, true);
                    this.RequestInstance.send();
                }

                // Returns the current status of the request as an array.
                // The first part of the request is the current request state of the instantiated class.
                // The second part of the request is the current response from the server.
                this.GetStatus = function() {
                    return [this.RequestInstance.readyState, this.RequestInstance.status];
                }

                // Returns the response text from the request. It may be a good idea to check if the ready state is in 4 (indicates request has finished).
                this.GetResponseText = function() {
                    return this.RequestInstance.responseText;
                }
            }

            // Send a HTTP DELETE command.
            function HTTPDelete() {
                this.url = "https://example.com";
                // Arguments are in this format: {"arg1": "param1", "arg2": "param2"}
                this.Arguments = {};
                this.RequestInstance = new XMLHttpRequest();

                // Send the request to the server.
                this.Send = function() {
                    var processedURL = this.url;
                    if (this.Arguments.length !== 0) {
                        processedURL = processedURL + "?";
                        for (var key in this.Arguments) {
                            processedURL = processedURL + key + "=" + this.Arguments[key];
                        }
                    }
                    this.RequestInstance.open("DELETE", processedURL, true);
                    this.RequestInstance.send();
                }

                // Returns the current status of the request as an array.
                // The first part of the request is the current request state of the instantiated class.
                // The second part of the request is the current response from the server.
                this.GetStatus = function() {
                    return [this.RequestInstance.readyState, this.RequestInstance.status];
                }

                // Returns the response text from the request. It may be a good idea to check if the ready state is in 4 (indicates request has finished).
                this.GetResponseText = function() {
                    return this.RequestInstance.responseText;
                }
            }

            // Create a responsive grid class for reuseable code.
            function Grid() {
                // Sets the initial settings for the new Grid.
                this.ParentID = "main";
                this.ID = "grid";
                this.ContainerObject = "";
                this.CenterAlign = true;
                this.ColumnCount = 4;
                // Create a array entry for the amount
                // If set to 0, it will set the default column size (4). all columns should add up to 12.
                // each item in the array represents a different grid cell.
                this.ColumnSize = [3, 3, 3, 3];

                // Creates a new grid with the specified values.
                this.Create = function() {
                    // Only run if the container does not exit.
                    if (this.ContainerObject === "") {
                        // Set the parent element and create the initial HTML in memory for the elements.
                        var parentElement = document.getElementById(this.ParentID);
                        var gridOuterContainer = document.createElement("div");
                        var gridInnerContainer = document.createElement("div");

                        // Set both container's class names.
                        gridOuterContainer.className = "mdc-layout-grid";
                        gridInnerContainer.className = "mdc-layout-grid__inner";

                        // If the user specified that the content should be center aligned, center align it.
                        if (this.CenterAlign) {
                            gridInnerContainer.style.textAlign = "center";
                            gridInnerContainer.style.alignContent = "center";
                        }

                        // Attach both containers from memory to the actual HTML
                        parentElement.appendChild(gridOuterContainer);
                        gridOuterContainer.appendChild(gridInnerContainer);

                        // Creates the grid cells based upon the amount specified in the ColumnCount property.
                        for (var counter = 0; counter < this.ColumnCount; counter++) {
                            // Create the grid cell HTML in memory.
                            var gridCell = document.createElement("div");

                            // Set the cell's class name.
                            gridCell.className = "mdc-layout-grid__cell";

                            // set the cell size if defined.
                            if (this.ColumnSize[counter] !== 0 && this.ColumnSize[counter] !== undefined && this.ColumnSize[counter] !== null) {
                                gridCell.className += " mdc-layout-grid__cell--span-" + this.ColumnSize[counter];
                            }
                            // set the cell's ID based upon the number that it is at currently in the process.
                            gridCell.id = this.ID + "-" + (counter + 1);

                            // Attach the cell from memory to HTML in the inner container.
                            gridInnerContainer.appendChild(gridCell);                        
                        }

                        // Set the container object equal to the outer container.
                        this.ContainerObject = gridOuterContainer;

                        // Return true for a successful operation.
                        return true;   
                    } else {
                        // Return false if the object has already been created.
                        return false;
                    }
                }

                // Deletes the grid and all child cells and cleans up the object variables.
                this.Remove = function() {
                    // Only execute if the object has been changed.
                    if (this.ContainerObject !== "") {
                        this.ContainerObject.outerHTML = "";
                        this.ContainerObject = "";
                        return true;
                    } else {
                        return false;
                    }
                }
            }

            // Create a section class to arrange elements horizontally and vertically in a reuseable fashion.
            function Section() {
                // Create the initial objects required for the configuration section manipulation.
                this.SectionObject = "";
                this.ButtonCompatible = false;
                this.ParentID = "main";
                this.SectionID = "";

                // Create the section and attach it to the parent section.
                this.Create = function() {
                    if (this.SectionObject === "") {
                        // Create the section element
                        var sectionObject = document.createElement("section");
                        // grab the parent, element's object to make useable
                        var parentElement = document.getElementById(this.ParentID);

                        // If no ID for this section is specified, do not add an ID.
                        if (this.SectionID !== "") {
                            // Add an ID to the created section
                            sectionObject.id = this.SectionID;
                        }
                        // If the button compatibility toggle is enabled, add 1 em padding to the bottom of the section
                        if (this.ButtonCompatible) {
                            sectionObject.style.paddingBottom = "1em";
                        }
                        // Add the element to another element
                        parentElement.appendChild(sectionObject);
                        // set the section object to be the result of the creation of the section
                        this.SectionObject = sectionObject;

                        // Return the section Object just incase it needs to be used somewhere else in a different fashion.
                        return sectionObject;    
                    } else {
                        return false;
                    }
                }

                // Remove the element if it exists
                this.Remove = function() {
                    // Check if the Object is blank and if it is, skip and return false
                    // Otherwise, remove the outer HTML reset the variable that contains the object and return true.
                    if (this.SectionObject !== "") {
                        this.SectionObject.outerHTML = "";
                        this.SectionObject = "";
                        return true;
                    } else {
                        return false;
                    }
                }
            }

            // Create a text field class for reuseable code.
            function TextField() {
                // Sets the initial settings for a new text field.
                this.TextFieldDivObject = "";
                this.TextFieldInputObject = "";
                this.Label = "Description of the textfield";
                this.ID = "text-field";
                this.ParentID = "Row 1";
                this.OnInput = "updateCards()";
                this.TextArea = false;
                this.TextAreaRows = "8";
                this.TextAreaColumns = "25";
                this.AutoComplete = false;
                this.SpellCheck = true;
                this.Required = false;

                // Creates a new input field with the specified values
                this.Create = function() {
                    if (this.TextFieldDivObject === "" && this.TextFieldInputObject === "") {
                            var divContainer = document.createElement("div");
                        if (this.TextArea) {
                            var textInput = document.createElement("textarea");
                            textInput.setAttribute("rows", this.TextAreaRows);
                            textInput.setAttribute("cols", this.TextAreaColumns);
                        } else {
                            var textInput = document.createElement("input");
                            textInput.setAttribute("type", "text");

                            var bottomLine = document.createElement("div");
                            bottomLine.className = "mdc-textfield__bottom-line";
                            bottomLine.style.transformOrigin = "99px center";
                        }
                        var textLabel = document.createElement("label");
                        var parentElement = document.getElementById(this.ParentID);

                        // DivContainer Section
                        divContainer.id = this.ID + "-div-container";
                        if (this.TextArea) {
                            divContainer.className = "mdc-textfield mdc-textfield--textarea";
                        } else {
                            divContainer.className = "mdc-textfield";
                        }

                        // Text Input section
                        textInput.id = this.ID;
                        textInput.className = "mdc-textfield__input";
                        textInput.setAttribute("name", this.ID);
                        if (this.SpellCheck) {
                            textInput.setAttribute("spellcheck", "true");
                        }
                        if (this.AutoComplete) {
                            textInput.setAttribute("autocomplete", "on");
                        } else {
                            textInput.setAttribute("autocomplete", "off");
                        }
                        if (this.Required) {
                            textInput.required = true;
                        }
                        if (this.OnInput !== "") {
                            textInput.setAttribute("oninput", this.OnInput);
                        }

                        // Text Label Section
                        textLabel.className = "mdc-textfield__label";
                        textLabel.setAttribute("for", this.ID);
                        textLabel.innerHTML = this.Label;

                        // Add from memory to HTML for rendering
                        parentElement.appendChild(divContainer);
                        divContainer.appendChild(textInput);
                        divContainer.appendChild(textLabel);
                        if (!this.TextArea) {
                            divContainer.appendChild(bottomLine);
                        }

                        // Update objects to be useable outside of method execution
                        this.TextFieldDivObject = divContainer;
                        this.TextFieldInputObject = textInput;

                        // Enable MDC integration for visuals
                        mdc.textfield.MDCTextfield.attachTo(document.getElementById(divContainer.id));

                        // Return the div container for other components if they use this
                        return divContainer;   
                    } else {
                        return false;
                    }
                }

                // Deletes the input field and cleans up the variables for a new creation of the object.
                this.Remove = function() {
                    if (this.TextFieldDivObject !== "") {
                        this.TextFieldDivObject.outerHTML = "";
                        this.TextFieldDivObject = "";
                        this.TextFieldInputObject = "";
                        return true;
                    } else {
                        return false;
                    }
                }

                // Returns the text in the input field.
                // Escapes characters so that user do not accidentally create HTML in the results.
                this.GetText = function() {
                    if (this.TextFieldDivObject !== "" && this.TextFieldInputObject !== "") {
                    return this.TextFieldInputObject.value.replace(/[&"<>]/g, function (c) {
                        return {
                            '&': "&amp;",
                            '"': "&quot;",
                            '<': "&lt;",
                            '>': "&gt;"
                        }[c];
                    });   
                    } else {
                        return false;
                    }
                }

                // Sets the text in the input field
                this.SetText = function(textParam) {
                    if (this.TextFieldDivObject !== "" && this.TextFieldInputObject !== "") {
                        this.TextFieldInputObject.value = textParam;   
                    } else {
                        return false;
                    }
                }
            }

            // Create a Text Card class for reuseable code.
            function TextCard() {
                // Set up the various properties that the user will configure after they instantiate the class.
                this.ParentID = "Output-Card-Row";
                this.ID = "OutputCard";
                this.CardAction = "";
                this.TitleText = "Title";
                this.SubtitleText = "Subtitle";
                this.RemoveSubtitleText = false;
                this.BodyText = "Body Text";
                this.RemoveButton1 = false;
                this.RemoveButton2 = false;
                this.Button1Text = "Button 1";
                this.Button2Text = "Button 2";
                this.Button1Action = "";
                this.Button2Action = "";
                this.CardObject = "";
                this.BodyObject = "";

                // Create the actual card for display on screen.
                // Depending on how the properties are configured, the user may even be able to interact with the card.
                this.Create = function() {
                    // Create the variables needed for the operation of this method
                    var parentElement = document.getElementById(this.ParentID);
                    var cardContainer = document.createElement("div");
                    var headerSection = document.createElement("section");
                    var titleElement = document.createElement("h1");
                    var subtitleElement = document.createElement("h2");
                    var bodySection = document.createElement("section");
                    var footerSection = document.createElement("section");
                    var button1 = document.createElement("button");
                    var button2 = document.createElement("button");

                    // Set the classes of the various components that are created.
                    cardContainer.className = "mdc-card";
                    headerSection.className = "mdc-card__primary";
                    titleElement.className = "mdc-card__title mdc-card__title--large";
                    subtitleElement.className = "mdc-card__subtitle";
                    bodySection.className = "mdc-card__supporting-text";
                    footerSection.className = "mdc-card__actions";
                    button1.className = "mdc-button mdc-button--compact mdc-card__action";
                    button2.className = "mdc-button mdc-button--compact mdc-card__action";

                    // Set the ID of the body text section so that it can be interacted with in the future.
                    bodySection.id = this.ID;

                    // Remove sections if they are disabled by the user.
                    if (this.RemoveSubtitleText) {
                        subtitleElement.style.display = "none";
                    }
                    if (this.RemoveButton1) {
                        button1.style.display = "none";                        
                    }
                    if (this.RemoveButton2) {
                        button2.style.display = "none";
                    }

                    // Set the text of the elements
                    titleElement.innerHTML = this.TitleText;
                    subtitleElement.innerHTML = this.SubtitleText;
                    bodySection.innerHTML = this.BodyText;
                    button1.innerHTML = this.Button1Text;
                    button2.innerHTML = this.Button2Text;

                    // Set the event listeners for the various interactive components of the card. Including the card itself,
                    // if the buttons are not assigned an event listener too.
                    if (this.CardAction !== "" && this.Button1Action === "" && this.Button1Action === "") {
                        cardContainer.setAttribute("onclick", this.CardAction);
                    } else {
                        if (this.Button1Action !== "") {
                            button1.setAttribute("onclick", this.Button1Action);
                        }
                        if (this.Button2Action !== "") {
                            button2.setAttribute("onclick", this.Button1Action);
                        }
                    }

                    // Add the actual HTML from memory to the web page for rendering and use by the user.
                    parentElement.appendChild(cardContainer);
                    cardContainer.appendChild(headerSection);
                    headerSection.appendChild(titleElement);
                    headerSection.appendChild(subtitleElement);
                    cardContainer.appendChild(bodySection);
                    cardContainer.appendChild(footerSection);
                    footerSection.appendChild(button1);
                    footerSection.appendChild(button2);

                    // Alter the property to reflect the proper object.
                    this.CardObject = cardContainer;
                    this.BodyObject = bodySection;

                    // Return the card container for use by other programs incase they need access to the object.
                    return cardContainer;
                }

                // Removes the card from the page.
                this.Remove = function() {
                    // Remove the card object only if the card object has been crated.
                    // Then reset the stored objects so that they can be reused.
                    if (this.CardObject !== "") {
                        this.CardObject.outerHTML = "";  
                        this.CardObject = "";
                        this.BodyObject = "";

                        // Return true after the card has been removed.
                        return true;
                    }
                }

                // Update the text displayed on the card.
                this.UpdateText = function(textContent) {
                    if (this.BodyObject !== "") {
                        this.BodyObject.innerHTML = textContent;
                    }
                }
            }

            // Create a Button class for reuseable code.
            function Button() {
                // Set up the various properties that the user will configure after they instantiate the class.
                this.ParentID = "Row 1";
                this.Text = "Button";
                this.AccentColor = false;
                this.AutoMargin = true;
                this.ButtonAction = "";
                this.ButtonObject = "";

                // Create the actual button for display on screen.
                this.Create = function() {
                    if (this.ButtonObject === "") {
                        var parentElement = document.getElementById(this.ParentID);
                        var buttonObject = document.createElement("button");

                        // Configure the button.
                        buttonObject.className = "mdc-button mdc-button--raised";
                        if (this.AccentColor) {
                            buttonObject.className += " mdc-button--accent"
                        }
                        if (this.AutoMargin) {
                            buttonObject.style.margin = "auto";
                        }
                        if (this.ButtonAction !== "") {
                            buttonObject.setAttribute("onclick", this.ButtonAction);
                        }
                        buttonObject.innerHTML = this.Text;

                        // Add the actual HTML from memory to the web page for rendering and use by the user.
                        parentElement.appendChild(buttonObject);

                        // Alter the property to reflect the proper object.
                        this.ButtonObject = buttonObject;

                        // Return the button object for use by other programs incase they need access to the object.
                        return buttonObject;   
                    } else {
                        return false;
                    }
                }

                // Deletes the button and cleans up the variables for a new creation of the object.
                this.Remove = function() {
                    if (this.ButtonObject !== "") {
                        this.ButtonObject.outerHTML = "";
                        this.ButtonObject = "";
                        return true;
                    } else {
                        return false;
                    }
                }
            }

            // Create a Switch class for reuseable code.
            function Switch() {
                this.ParentID = "row 1";
                this.SwitchID = "basic-switch";
                this.Disabled = false;
                this.Label = "On/Off switch";
                this.OnChange = "";
                this.SwitchObject = "";
                this.LabelObject = "";

                // Create the switch.
                this.Create = function() {
                    // Only run if the switch does nto exist.
                    if (this.SwitchObject === "" && this.LabelObject === "") {
                        // Set the parent element and create the initial HTML in memory for the elements.
                        var parentElement = document.getElementById(this.ParentID);
                        var switchContainer = document.createElement("div");
                        var inputControl = document.createElement("input");
                        var switchBackground = document.createElement("div");
                        var switchKnob = document.createElement("div");
                        var switchLabel = document.createElement("label");

                        // Set the container's class name.
                        switchContainer.className = "mdc-switch";

                        // Set the control properties.
                        inputControl.type = "checkbox";
                        inputControl.id = this.SwitchID;
                        inputControl.className = "mdc-switch__native-control";

                        // Set the background class name.
                        switchBackground.className = "mdc-switch__background";

                        // Set the knob class name.
                        switchKnob.className = "mdc-switch__knob";

                        // Set the label properties.
                        switchLabel.setAttribute("for", this.SwitchID);
                        switchLabel.className = "mdc-switch-label";
                        switchLabel.innerText = this.Label;

                        // Disable control if property specifies that it should be disabled.
                        if (this.Disabled) {
                            switchContainer.className += " mdc-switch--disabled";
                            inputControl.disabled = true;
                        }

                        // Adds an event listener to the input element so that it can execute something if activated.
                        if (this.OnChange !== "") {
                            inputControl.setAttribute("onchange", this.OnChange);
                        }

                        // Append the HTML to the document for rendering.
                        parentElement.appendChild(switchContainer);
                        switchContainer.appendChild(inputControl);
                        switchContainer.appendChild(switchBackground);
                        switchBackground.appendChild(switchKnob);
                        parentElement.appendChild(switchLabel);

                        // Set the switch container and the label as public facing properties.
                        // Return true.
                        this.SwitchObject = switchContainer;
                        this.LabelObject = switchLabel;
                        return true;
                    } else {
                        // Return false if the switch already exists.
                        return false;
                    }
                }

                // Return the value of the switch.
                this.GetValue = function() {
                    // Only run if the switch is present.
                    if (this.SwitchObject !== "" && this.LabelObject !== "") {
                        // Return the current value of the switch.
                        return document.getElementById(this.SwitchID).checked;
                    } else {
                        // If the switch does not exist, return null.
                        return null;
                    }
                }

                // Remove the switch and reset the objects.
                this.Remove = function() {
                    // Only run if the switch is present.
                    if (this.SwitchObject !== "" && this.LabelObject !== "") {
                        // Delete the HTML from the document.
                        this.SwitchObject.outerHTML = "";
                        this.LabelObject.outerHTML = "";
                        // Reset the objects from the instantiated class.
                        this.SwitchObject = "";
                        this.LabelObject = "";
                        // Return true for successful.
                        return true;
                    } else {
                        // Return false for unsuccessful.
                        return false;
                    }
                }
            }

            // Create a spinner class for reuseable code.
            function SpinnerMenu() {
                this.SpinnerDisabled = false;
                this.SpinnerTitle = "Example Spinner";
                this.ParentID = "row 1";
                this.ComponentID = "DropdownMenu";
                // Array is in this format: {"Text displayed": ["IdOfItemInSpinner", BoolItemDisabled]}
                this.SpinnerItems = {"Item 1": ["itemID", true], "Item 2": ["item2", false]};
                this.SpinnerObject = "";
                this.MDCSelect = "";

                // Creates a new spinner menu with the specified settings
                this.Create = function() {
                    // Only create a new spinner if it has not already been created.
                    if (this.SpinnerObject === "" && this.MDCSelect === "") {
                        // Crate the required HTML sections for this spinner.
                        var parentElement = document.getElementById(this.ParentID);
                        var spinnerContainer = document.createElement("div");
                        var spinnerCurrentSelection = document.createElement("span");
                        var menuContainer = document.createElement("div");
                        var menuListContainer = document.createElement("ul");
                        var spinnerTitleMenuItem = document.createElement("li");

                        // Set the spinner container attributes (ID, class name, role and tab index).
                        spinnerContainer.className = "mdc-select";
                        if (this.ComponentID !== "") {
                            spinnerContainer.id = this.ComponentID;
                        }
                        spinnerContainer.setAttribute("role", "listbox");
                        spinnerContainer.tabIndex = "0";

                        // Set the current selection attributes (class name and starting text)
                        spinnerCurrentSelection.className = "mdc-select__selected-text";
                        spinnerCurrentSelection.innerText = this.SpinnerTitle;
                        
                        // Set the menu container class names.
                        menuContainer.className = "mdc-simple-menu mdc-select__menu";

                        // Set the list container class names too.
                        menuListContainer.className = "mdc-list mdc-simple-menu__items";

                        // Set the title menu item's attributes (class name, ID, role, Aria-Disabled and text content).
                        spinnerTitleMenuItem.className = "mdc-list-item";
                        spinnerTitleMenuItem.id = "titleItem";
                        spinnerTitleMenuItem.setAttribute("role", "option");
                        spinnerTitleMenuItem.setAttribute("aria-disabled", "true");
                        spinnerTitleMenuItem.innerText = this.SpinnerTitle;

                        // Attach HTML to the parent element for rendering.
                        parentElement.appendChild(spinnerContainer);
                        spinnerContainer.appendChild(spinnerCurrentSelection);
                        spinnerContainer.appendChild(menuContainer);
                        menuContainer.appendChild(menuListContainer);
                        menuListContainer.appendChild(spinnerTitleMenuItem);

                        // Add items to the drop down menu.
                        for (index in this.SpinnerItems) {
                            // Crate the required HTML section for the menu item.
                            var menuItem = document.createElement("li");

                            // Set the menu item attributes (ID, class name, role, tab index, text and optionally the enabled status).
                            menuItem.className = "mdc-list-item";
                            menuItem.setAttribute("role", "option");
                            menuItem.tabIndex = "0";
                            menuItem.id = this.SpinnerItems[index][0];
                            menuItem.innerText = index;
                            if (this.SpinnerItems[index][1] == true) {
                                menuItem.setAttribute("aria-disabled", "true");
                            }
                            // Attach HTML to the parent element for rendering
                            menuListContainer.appendChild(menuItem);
                        }

                        // Set the properties to equal the object that was instantiated.
                        this.SpinnerObject = spinnerContainer;
                        this.MDCSelect = new mdc.select.MDCSelect(document.getElementById(this.ComponentID));

                        // Return the object to the calling function.
                        return spinnerContainer;
                    } else {
                        // Return false if unable to instantiate due to the fact it was already instantiated.
                        return false;
                    }
                }

                // Returns the current value of the spinner menu
                this.GetSelected = function() {
                    // Returns the values as follows:
                    // index 0 = the ID of the item
                    // Index 1 = the human readable text
                    return [this.MDCSelect.value, this.MDCSelect.selectedOptions[0].textContent];
                }

                // Deletes the menu and cleans up the variables for a new creation of the object.
                this.Remove = function() {
                    // Only execute if something is there and return true, otherwise return false
                    if (this.SpinnerObject !== "") {
                        this.SpinnerObject.outerHTML = "";
                        this.SpinnerObject = "";
                        this.MDCSelect = "";
                        return true;
                    } else {
                        return false;
                    }
                }
            }

            // Create a Menu Item class for reuseable code.
            function MenuItem() {
                // Set up the various properties that the user will configure after they instantiate the class.
                this.ParentID = "nav-main";
                this.MenuItemText = "Menu Item";
                this.Icon = "receipt";
                this.ItemAction = "loadTemplate(9999)";
                this.ItemObject = "";

                // Create the actual menu item for display on screen.
                this.Create = function() {
                    if (this.ItemObject === "") {
                        var parentElement = document.getElementById(this.ParentID);
                        var menuLink = document.createElement("a");
                        var menuIcon = document.createElement("i");

                        menuLink.style.cursor = "pointer";
                        menuLink.setAttribute("onclick", this.ItemAction);
                        menuLink.className = "mdc-list-item";

                        menuIcon.innerHTML = this.Icon;
                        menuIcon.className = "material-icons mdc-list-item__start-detail";
                        menuIcon.setAttribute("aria-hidden", "true");

                        parentElement.appendChild(menuLink);
                        menuLink.innerHTML = menuIcon.outerHTML + this.MenuItemText;

                        this.ItemObject = menuLink;
                        return menuLink;                        
                    } else {
                        return false;
                    }
                }
                
                // Deletes the menu item and cleans up the variables for a new creation of the object.
                this.Remove = function() {
                    if (this.ItemObject !== "") {
                        this.ItemObject.outerHTML = "";
                        this.ItemObject = "";
                        return true;
                    } else {
                        return false;
                    }
                }
            }

            // Create a message box (dialog box) class for reuseable code.
            function MessageBox() {
                this.TitleText = "Title Here";
                this.DescriptionText = "Long Form Description Here...";
                this.OKButtonText = "OK!";
                this.CancelButtonText = "Cancel";
                this.RemoveCancelButton = false;
                this.RemoveOKButton = false;
                this.ErrorMode = false;
                this.LockoutMode = false;
                this.Duration = 0;
                this.ListenOK = ["", []];
                this.ListenCancel = ["", []];

                // Set the DOM vars for easy access
                this.MSGBox = document.getElementById("MessageBox");
                this.MSGBoxSurface = document.getElementById("MessageBox-Surface");
                this.MSGBoxTitle = document.getElementById("MessageBox-title");
                this.MSGBoxDescription = document.getElementById("MessageBox-description");
                this.MSGBoxOKBtn = document.getElementById("MessageBox-OKButton");
                this.MSGBoxCancelBtn = document.getElementById("MessageBox-CancelButton");

                // Shows the message box when called
                this.Show = function() {

                    // Remove the current event listener so that the old button function does not conflict with the current button function.
                    messageBox.unlisten("MDCDialog:accept", messageBoxOKFunction);
                    messageBox.unlisten("MDCDialog:cancel", messageBoxCancelFunction);

                    // define the function using the pre-defined string
                    var ok = window[this.ListenOK[0]];
                    var cancel = window[this.ListenCancel[0]];
                    
                    // if oKfn is indeed a function, execute it with the specified parameters.
                    if (typeof ok === "function") {

                        // Set the parameters as a global setting as after the even listener is created, it can't pull the params from inside another scope.
                        OKParams = this.ListenOK[1];

                        // Store the event listener as global so that conflicts do not occur.
                        messageBoxOKFunction = function() {
                            ok.apply(null, OKParams);
                        }

                        // Apply the function to the OK button's event so that it is executed when clicked.
                        messageBox.listen('MDCDialog:accept', messageBoxOKFunction);
                    }                    

                    // if cancel is indeed a function, execute it with the specified parameters.
                    if (typeof cancel === "function") {

                        // Set the parameters as a global setting as after the even listener is created, it can't pull the params from inside another scope.
                        CancelParams = this.ListenCancel[1];

                        // Store the event listener as global so that conflicts do not occur.
                        messageBoxCancelFunction = function() {
                            cancel.apply(null, CancelParams);
                        }
                        
                        // Apply the function to the cancel button's event so that it is executed when clicked.
                        messageBox.listen('MDCDialog:cancel', messageBoxCancelFunction);
                    }

                    // Verify if a dialog box is already open, if there is one open, close it.
                    var iSoPEN = document.getElementsByClassName('mdc-dialog--open mdc-dialog--animating');
                    if (iSoPEN.length > 0) {
                        messageBox.close();
                    }

                    // Set the text on the to the text specified
                    this.MSGBoxTitle.innerHTML = this.TitleText;
                    this.MSGBoxDescription.innerHTML = this.DescriptionText;
                    this.MSGBoxOKBtn.innerHTML = this.OKButtonText;
                    this.MSGBoxCancelBtn.innerHTML = this.CancelButtonText;

                    // Style the message box in a red color if the ErrorMode property is true.
                    // Otherwise, set the visuals to the default settings.
                    if (this.ErrorMode) {
                        this.MSGBoxSurface.style.backgroundColor = "red";
                        this.MSGBoxSurface.style.color = "white";
                        this.MSGBoxDescription.style.color = "white";
                        this.MSGBoxOKBtn.style.color = "white";
                        this.MSGBoxOKBtn.style.backgroundColor = "rgba(0,0,0,.07)";
                        this.MSGBoxCancelBtn.style.color = "white";
                        this.MSGBoxCancelBtn.style.backgroundColor = "rgba(0,0,0,.07)";
                    } else {
                        this.MSGBoxSurface.style.backgroundColor = "";
                        this.MSGBoxSurface.style.color = "";
                        this.MSGBoxDescription.style.color = "";
                        this.MSGBoxOKBtn.style.color = "";
                        this.MSGBoxOKBtn.style.backgroundColor = "";
                        this.MSGBoxCancelBtn.style.color = "";
                        this.MSGBoxCancelBtn.style.backgroundColor = "";
                    }

                    // If the remove button property is enabled for the cancel button, remove it.
                    // Otherwise keep it visible
                    if (this.RemoveCancelButton) {
                        this.MSGBoxCancelBtn.style.display = "none";
                    } else {
                        this.MSGBoxCancelBtn.style.display = "";
                    }

                    // If the remove button property is enabled for the ok button, remove it.
                    // Otherwise keep it visible
                    if (this.RemoveOKButton) {
                        this.MSGBoxOKBtn.style.display = "none";
                    } else {
                        this.MSGBoxOKBtn.style.display = "";
                    }

                    // If the duration is not set at 0 then auto close the dialog box
                    if (this.Duration !== 0) {
                        setTimeout(this.Close, this.Duration);
                    }

                    // Create a non closeable dialog box
                    if (this.RemoveCancelButton && this.RemoveOKButton && this.LockoutMode) {
                        this.MSGBox.className += " mdc-dialog--open";
                        this.MSGBox.style.position = "fixed";
                    } else {
                        messageBox.show();
                    }
                }

                // Manually closes the message box safely when called
                this.Close = function() {

                    // Check if the dialog box is already open, if it is then close the command, otherwise
                    // log to console that it is already closed.
                    var iSoPEN = document.getElementsByClassName('mdc-dialog--open');
                    if (iSoPEN.length > 0) {
                        messageBox.close();
                    } else {
                        return false;
                    }
                }
            }

            // Global variables that are set for all functions to access.
            var drawer = new mdc.drawer.MDCTemporaryDrawer(document.querySelector('.mdc-temporary-drawer'));
            var messageBox = new mdc.dialog.MDCDialog(document.querySelector('#MessageBox'));
            var browserPromptReset = true;
            var messageBoxOKFunction = null;
            var messageBoxCancelFunction = null;

            function initInterface() {
                logonUI = new LogonUI();
            }

            function loadAdminUI() {
                logonUI.Remove();
                adminUI = new AdminUI();
            }

            function loadDataUI() {
                logonUI.Remove();
                dataUI = new DataUI();
            }

            // A simple function to open the nav drawer
            function openNavDrawer() {
                drawer.open = true;
            }

            function toggleDarkTheme(initialization) {
                if (initialization) {
                    // pass
                } else {
                    if (darkEnabled) {
                        // disable dark theme here.
                    } else {
                        // enable dark theme here.
                    }
                }

                // card background: rgba(0,0,0,.54);
                // html root class name: mdc-theme--dark;
                // document background: #303030;
                // floating label: transparent

            }

            // Opens a new browser window/tab with the same url,
            // used to open a new instance of the note maker.
            function newNoteMakerInstance() {
                window.open(window.location.href, "_blank");
            }

            // Display a dialog box that prompts if the user wants to reset the notemaker tool.
            // if yes then run the resetNoteMaker function.
            function resetNoteMakerPrompt() {
                var resetDialog = new MessageBox();
                resetDialog.TitleText = "Reset Notemaker?";
                resetDialog.DescriptionText = "Are you sure that you want to reset the Note Maker?<br><br>You will lose anything that is currently on the screen.";
                resetDialog.OKButtonText = "Reset";
                resetDialog.ListenOK = ["resetNoteMaker", []];
                resetDialog.Show();
            }

            // Opens the same url in the same browser tab. Used to refresh the page and
            // reset the notemaker. When executed, will bypass the safety check for window navigation.
            // Before navigation, submits the form so that autocomplete can pick up the CI field.
            function resetNoteMaker() {
                browserPromptReset = false;
                document.getElementById("Troubleshooting-Input").submit();
                window.open(window.location.href, "_self");
            }

            // Updates the card display for the user to copy the properly formatted text from.
            function updateCards() {
                switch (selectedUI) {
                    case "Init":
                        //pass
                        break;
                
                    default:
                        break;
                }
            }

            // Copies the textContent from the specified element identified by its ID.
            // If true is passed as the second item, it will check if the required fields are filled.
            function copyByElementID(ElementID, RequiredToggle) {
                var copyData = document.getElementById(ElementID).textContent;

                // If showDialog true then it will display the copied text dialog box.
                // Before the dialog close command is run, it checks if the dialog is already open just incase the user si working really fast.
                var textCopiedDialog = new MessageBox();

                if (RequiredToggle === true) {
                    var formFields =  document.getElementsByClassName("mdc-textfield__input");
                    var requirementMet = true;

                    for (var index = 0; index < formFields.length; index++) {
                        if (formFields[index].required && formFields[index].value === "") {
                            requirementMet = false;
                        }
                    }
                    if (!requirementMet) {
                        // Build message box that displays the error that info is missing.
                        textCopiedDialog.TitleText = "Missing Info!";
                        textCopiedDialog.DescriptionText = "Please fill out all required fields before copying!";
                        textCopiedDialog.ErrorMode = true;
                        textCopiedDialog.RemoveCancelButton = true;
                        
                    } else {
                        // Copy the text to the clip board.
                        copyText(copyData);

                        // Build message box that indicates that the data has been copied.
                        textCopiedDialog.TitleText = "Text Copied!";
                        textCopiedDialog.DescriptionText = "Your text has been successfully copied to the clipboard :-)";
                        textCopiedDialog.RemoveCancelButton = true;
                        textCopiedDialog.Duration = 1000;
                    }
                } else {
                    // Copy the text to the clip board.
                    copyText(copyData);

                    // Build message box that indicates that the data has been copied.
                    textCopiedDialog.TitleText = "Text Copied!";
                    textCopiedDialog.DescriptionText = "Your text has been successfully copied to the clipboard :-)";
                    textCopiedDialog.RemoveCancelButton = true;
                    textCopiedDialog.Duration = 1000;
                }

                // Show the dialog
                textCopiedDialog.Show();

            }

            // Copies the specified text (given to function via parameter) to the clipboard.
            function copyText(textToCopy) {
                var textArea = document.createElement("textarea");
                textArea.style.position = 'fixed';
                textArea.style.top = 0;
                textArea.style.left = 0;
                textArea.style.width = '2em';
                textArea.style.height = '2em';
                textArea.style.padding = 0;
                textArea.style.border = 'none';
                textArea.style.outline = 'none';
                textArea.style.boxShadow = 'none';
                textArea.style.background = 'transparent';

                textArea.value = textToCopy;

                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
            }

            // Exports the on screen fields as a CSV file.
            function exportCSV() {
                var fieldValues = getCurrentFieldValues();
                var csvString = fieldValues[0]
                    + "," + fieldValues[1]
                    + "," + fieldValues[2]
                    + "," + fieldValues[3]
                    + "," + fieldValues[4]
                    + "," + fieldValues[5]
                    + "," + fieldValues[6]
                    + "," + fieldValues[7]
                    + "," + fieldValues[8]
                    + "," + fieldValues[9]
                    + "," + fieldValues[10]
                    + "," + fieldValues[11];
                saveTextAsFile(document.getElementById("ticket-number").value + ".csv", csvString);
            }

            // Takes the file name and text to have inputted and downloads that as a file.
            function saveTextAsFile(fileNameToSaveAs, textToWrite) {
                /* Saves a text string as a blob file*/
                var ie = navigator.userAgent.match(/MSIE\s([\d.]+)/),
                    ie11 = navigator.userAgent.match(/Trident\/7.0/) && navigator.userAgent.match(/rv:11/),
                    ieEDGE = navigator.userAgent.match(/Edge/g),
                    ieVer = (ie ? ie[1] : (ie11 ? 11 : (ieEDGE ? 12 : -1)));

                if (ie && ieVer < 10) {
                    console.log("No blobs on IE ver<10");
                    return;
                }

                var textFileAsBlob = new Blob([textToWrite], {
                    type: 'text/plain'
                });

                if (ieVer > -1) {
                    window.navigator.msSaveBlob(textFileAsBlob, fileNameToSaveAs);

                } else {
                    var downloadLink = document.createElement("a");
                    downloadLink.download = fileNameToSaveAs;
                    downloadLink.href = window.URL.createObjectURL(textFileAsBlob);
                    downloadLink.onclick = function (e) { document.body.removeChild(e.target); };
                    downloadLink.style.display = "none";
                    document.body.appendChild(downloadLink);
                    downloadLink.click();
                }
            }

            // Takes the specified input and applies the selected template according to the selection.
            function loadTemplate(TemplateNumber) {
                switch (TemplateNumber) {
                    // template 1
                    case 0:
                        // pass
                        break;
                    // template 2
                    case 1:
                        // pass
                        break;
                    // Blank everything (as a fall back)
                    default:
                        var formFields =  document.getElementsByClassName("mdc-textfield__input");
                        for (var index = 0; index < formFields.length; index++) {
                            formFields[index].value = "";
                        }
                        break;
                }
                drawer.open = false;
                updateCards();
                var identifiedTextField = document.getElementsByClassName("mdc-textfield");
                var indexTF;
                for (index = 0; indexTF < identifiedTextField.length; indexTF++) {
                    identifiedTextField[indexTF].className += " mdc-textfield--focused";
                }
                var identifiedLabel = document.getElementsByClassName("mdc-textfield__label");
                var indexL;
                for (indexL = 0; indexL < identifiedLabel.length; indexL++) {
                    identifiedLabel[indexL].className += " mdc-textfield__label--float-above"
                }
            }
        </script>
    </body>
</html>